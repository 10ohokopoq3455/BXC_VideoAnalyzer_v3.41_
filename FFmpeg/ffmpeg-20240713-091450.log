ffmpeg started on 2024-07-13 at 09:14:50
Report written to "ffmpeg-20240713-091450.log"
Log level: 48
Command line:
ffmpeg -report -v verbose -re -f lavfi -i "testsrc=size=720x404:rate=59.94" -f lavfi -i "sine=frequency=400" -vcodec libx264 -pix_fmt yuv420p -acodec aac -ar 24000 -rtsp_transport tcp -f rtsp rtsp://localhost:8554/mystream
ffmpeg version 4.4.2-0ubuntu0.22.04.1 Copyright (c) 2000-2021 the FFmpeg developers
  built with gcc 11 (Ubuntu 11.2.0-19ubuntu1)
  configuration: --prefix=/usr --extra-version=0ubuntu0.22.04.1 --toolchain=hardened --libdir=/usr/lib/aarch64-linux-gnu --incdir=/usr/include/aarch64-linux-gnu --arch=arm64 --enable-gpl --disable-stripping --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-open  libavutil      56. 70.100 / 56. 70.100
  libavcodec     58.134.100 / 58.134.100
  libavformat    58. 76.100 / 58. 76.100
  libavdevice    58. 13.100 / 58. 13.100
  libavfilter     7.110.100 /  7.110.100
  libswscale      5.  9.100 /  5.  9.100
  libswresample   3.  9.100 /  3.  9.100
  libpostproc    55.  9.100 / 55.  9.100
Splitting the commandline.
Reading option '-report' ... matched as option 'report' (generate a report) with argument '1'.
Reading option '-v' ... matched as option 'v' (set logging level) with argument 'verbose'.
Reading option '-re' ... matched as option 're' (read input at native frame rate) with argument '1'.
Reading option '-f' ... matched as option 'f' (force format) with argument 'lavfi'.
Reading option '-i' ... matched as input url with argument 'testsrc=size=720x404:rate=59.94'.
Reading option '-f' ... matched as option 'f' (force format) with argument 'lavfi'.
Reading option '-i' ... matched as input url with argument 'sine=frequency=400'.
Reading option '-vcodec' ... matched as option 'vcodec' (force video codec ('copy' to copy stream)) with argument 'libx264'.
Reading option '-pix_fmt' ... matched as option 'pix_fmt' (set pixel format) with argument 'yuv420p'.
Reading option '-acodec' ... matched as option 'acodec' (force audio codec ('copy' to copy stream)) with argument 'aac'.
Reading option '-ar' ... matched as option 'ar' (set audio sampling rate (in Hz)) with argument '24000'.
Reading option '-rtsp_transport' ... matched as AVOption 'rtsp_transport' with argument 'tcp'.
Reading option '-f' ... matched as option 'f' (force format) with argument 'rtsp'.
Reading option 'rtsp://localhost:8554/mystream' ... matched as output url.
Finished splitting the commandline.
Parsing a group of options: global .
Applying option report (generate a report) with argument 1.
Applying option v (set logging level) with argument verbose.
Successfully parsed a group of options.
Parsing a group of options: input url testsrc=size=720x404:rate=59.94.
Applying option re (read input at native frame rate) with argument 1.
Applying option f (force format) with argument lavfi.
Successfully parsed a group of options.
Opening an input file: testsrc=size=720x404:rate=59.94.
detected 4 logical cores
[Parsed_testsrc_0 @ 0xaaaae5a941a0] Setting 'size' to value '720x404'
[Parsed_testsrc_0 @ 0xaaaae5a941a0] Setting 'rate' to value '59.94'
[Parsed_testsrc_0 @ 0xaaaae5a941a0] size:720x404 rate:2997/50 duration:-1.000000 sar:1/1
[AVFilterGraph @ 0xaaaae5a49660] query_formats: 2 queried, 1 merged, 0 already done, 0 delayed
[lavfi @ 0xaaaae5a92b60] All info found
Input #0, lavfi, from 'testsrc=size=720x404:rate=59.94':
  Duration: N/A, start: 0.000000, bitrate: N/A
  Stream #0:0, 1, 50/2997: Video: rawvideo, 1 reference frame (RGB[24] / 0x18424752), rgb24, 720x404 [SAR 1:1 DAR 180:101], 59.94 tbr, 59.94 tbn, 59.94 tbc
Successfully opened the file.
Parsing a group of options: input url sine=frequency=400.
Applying option f (force format) with argument lavfi.
Successfully parsed a group of options.
Opening an input file: sine=frequency=400.
[Parsed_sine_0 @ 0xaaaae5a98b80] Setting 'frequency' to value '400'
[AVFilterGraph @ 0xaaaae5a94b70] query_formats: 2 queried, 3 merged, 0 already done, 0 delayed
[lavfi @ 0xaaaae5a97870] All info found
Input #1, lavfi, from 'sine=frequency=400':
  Duration: N/A, start: 0.000000, bitrate: 705 kb/s
  Stream #1:0, 1, 1/44100: Audio: pcm_s16le, 44100 Hz, mono, s16, 705 kb/s
Successfully opened the file.
Parsing a group of options: output url rtsp://localhost:8554/mystream.
Applying option vcodec (force video codec ('copy' to copy stream)) with argument libx264.
Applying option pix_fmt (set pixel format) with argument yuv420p.
Applying option acodec (force audio codec ('copy' to copy stream)) with argument aac.
Applying option ar (set audio sampling rate (in Hz)) with argument 24000.
Applying option f (force format) with argument rtsp.
Successfully parsed a group of options.
Opening an output file: rtsp://localhost:8554/mystream.
Successfully opened the file.
Stream mapping:
  Stream #0:0 -> #0:0 (rawvideo (native) -> h264 (libx264))
  Stream #1:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
cur_dts is invalid st:0 (0) [init:0 i_done:0 finish:0] (this is harmless if it occurs once at the start per stream)
[rawvideo @ 0xaaaae5a97430] PACKET SIZE: 872640, STRIDE: 2160
[graph 0 input from stream 0:0 @ 0xaaaae5ab4580] Setting 'video_size' to value '720x404'
[graph 0 input from stream 0:0 @ 0xaaaae5ab4580] Setting 'pix_fmt' to value '2'
[graph 0 input from stream 0:0 @ 0xaaaae5ab4580] Setting 'time_base' to value '50/2997'
[graph 0 input from stream 0:0 @ 0xaaaae5ab4580] Setting 'pixel_aspect' to value '1/1'
[graph 0 input from stream 0:0 @ 0xaaaae5ab4580] Setting 'frame_rate' to value '2997/50'
[graph 0 input from stream 0:0 @ 0xaaaae5ab4580] w:720 h:404 pixfmt:rgb24 tb:50/2997 fr:2997/50 sar:1/1
[format @ 0xaaaae5ab4ab0] Setting 'pix_fmts' to value 'yuv420p'
[auto_scaler_0 @ 0xaaaae5ab5ed0] Setting 'flags' to value 'bicubic'
[auto_scaler_0 @ 0xaaaae5ab5ed0] w:iw h:ih flags:'bicubic' interl:0
[format @ 0xaaaae5ab4ab0] auto-inserting filter 'auto_scaler_0' between the filter 'Parsed_null_0' and the filter 'format'
[AVFilterGraph @ 0xaaaae5ab3750] query_formats: 4 queried, 2 merged, 1 already done, 0 delayed
[auto_scaler_0 @ 0xaaaae5ab5ed0] w:720 h:404 fmt:rgb24 sar:1/1 -> w:720 h:404 fmt:yuv420p sar:1/1 flags:0x4
[libx264 @ 0xaaaae5aaf3c0] using mv_range_thread = 56
[libx264 @ 0xaaaae5aaf3c0] using SAR=1/1
[libx264 @ 0xaaaae5aaf3c0] using cpu capabilities: ARMv8 NEON
[libx264 @ 0xaaaae5aaf3c0] profile High, level 3.1, 4:2:0, 8-bit
[libx264 @ 0xaaaae5aaf3c0] 264 - core 163 r3060 5db6aa6 - H.264/MPEG-4 AVC codec - Copyleft 2003-2021 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=4 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Clipping frame in rate conversion by 0.000008
cur_dts is invalid st:0 (0) [init:1 i_done:0 finish:0] (this is harmless if it occurs once at the start per stream)
cur_dts is invalid st:1 (0) [init:0 i_done:0 finish:0] (this is harmless if it occurs once at the start per stream)
[graph_1_in_1_0 @ 0xaaaae5cd41a0] Setting 'time_base' to value '1/44100'
[graph_1_in_1_0 @ 0xaaaae5cd41a0] Setting 'sample_rate' to value '44100'
[graph_1_in_1_0 @ 0xaaaae5cd41a0] Setting 'sample_fmt' to value 's16'
[graph_1_in_1_0 @ 0xaaaae5cd41a0] Setting 'channel_layout' to value '0x4'
[graph_1_in_1_0 @ 0xaaaae5cd41a0] tb:1/44100 samplefmt:s16 samplerate:44100 chlayout:0x4
[format_out_0_1 @ 0xaaaae5cd4740] Setting 'sample_fmts' to value 'fltp'
[format_out_0_1 @ 0xaaaae5cd4740] Setting 'sample_rates' to value '24000'
[format_out_0_1 @ 0xaaaae5cd4740] auto-inserting filter 'auto_resampler_0' between the filter 'Parsed_anull_0' and the filter 'format_out_0_1'
[AVFilterGraph @ 0xaaaae5cd3380] query_formats: 4 queried, 6 merged, 3 already done, 0 delayed
[auto_resampler_0 @ 0xaaaae5cd4dd0] [SWR @ 0xaaaae5cd4f20] Using fltp internally between filters
[auto_resampler_0 @ 0xaaaae5cd4dd0] ch:1 chl:mono fmt:s16 r:44100Hz -> ch:1 chl:mono fmt:fltp r:24000Hz
[tcp @ 0xaaaae5a46720] No default whitelist set
[tcp @ 0xaaaae5a46720] Original list of addresses:
[tcp @ 0xaaaae5a46720] Address 127.0.0.1 port 8554
[tcp @ 0xaaaae5a46720] Interleaved list of addresses:
[tcp @ 0xaaaae5a46720] Address 127.0.0.1 port 8554
[tcp @ 0xaaaae5a46720] Starting connection attempt to 127.0.0.1 port 8554
[tcp @ 0xaaaae5a46720] Connection attempt to 127.0.0.1 port 8554 failed: Connection refused
[tcp @ 0xaaaae5a46720] Connection to tcp://localhost:8554?timeout=0 failed: Connection refused
Could not write header for output file #0 (incorrect codec parameters ?): Connection refused
Error initializing output stream 0:1 -- 
[aac @ 0xaaaae5ab0f60] Qavg: nan
Conversion failed!

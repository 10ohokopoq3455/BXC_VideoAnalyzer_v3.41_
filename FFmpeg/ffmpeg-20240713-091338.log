ffmpeg started on 2024-07-13 at 09:13:38
Report written to "ffmpeg-20240713-091338.log"
Log level: 48
Command line:
ffmpeg -report -v verbose -re -stream_loop -1 -i test.mp4 -c copy -rtsp_transport tcp -f rtsp rtsp://localhost:8554/mystream
ffmpeg version 4.4.2-0ubuntu0.22.04.1 Copyright (c) 2000-2021 the FFmpeg developers
  built with gcc 11 (Ubuntu 11.2.0-19ubuntu1)
  configuration: --prefix=/usr --extra-version=0ubuntu0.22.04.1 --toolchain=hardened --libdir=/usr/lib/aarch64-linux-gnu --incdir=/usr/include/aarch64-linux-gnu --arch=arm64 --enable-gpl --disable-stripping --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-open  libavutil      56. 70.100 / 56. 70.100
  libavcodec     58.134.100 / 58.134.100
  libavformat    58. 76.100 / 58. 76.100
  libavdevice    58. 13.100 / 58. 13.100
  libavfilter     7.110.100 /  7.110.100
  libswscale      5.  9.100 /  5.  9.100
  libswresample   3.  9.100 /  3.  9.100
  libpostproc    55.  9.100 / 55.  9.100
Splitting the commandline.
Reading option '-report' ... matched as option 'report' (generate a report) with argument '1'.
Reading option '-v' ... matched as option 'v' (set logging level) with argument 'verbose'.
Reading option '-re' ... matched as option 're' (read input at native frame rate) with argument '1'.
Reading option '-stream_loop' ... matched as option 'stream_loop' (set number of times input stream shall be looped) with argument '-1'.
Reading option '-i' ... matched as input url with argument 'test.mp4'.
Reading option '-c' ... matched as option 'c' (codec name) with argument 'copy'.
Reading option '-rtsp_transport' ... matched as AVOption 'rtsp_transport' with argument 'tcp'.
Reading option '-f' ... matched as option 'f' (force format) with argument 'rtsp'.
Reading option 'rtsp://localhost:8554/mystream' ... matched as output url.
Finished splitting the commandline.
Parsing a group of options: global .
Applying option report (generate a report) with argument 1.
Applying option v (set logging level) with argument verbose.
Successfully parsed a group of options.
Parsing a group of options: input url test.mp4.
Applying option re (read input at native frame rate) with argument 1.
Applying option stream_loop (set number of times input stream shall be looped) with argument -1.
Successfully parsed a group of options.
Opening an input file: test.mp4.
[NULL @ 0xaaab06366a80] Opening 'test.mp4' for reading
[file @ 0xaaab06367220] Setting default whitelist 'file,crypto,data'
[mov,mp4,m4a,3gp,3g2,mj2 @ 0xaaab06366a80] Format mov,mp4,m4a,3gp,3g2,mj2 probed with size=2048 and score=100
[mov,mp4,m4a,3gp,3g2,mj2 @ 0xaaab06366a80] ISO: File Type Major Brand: mp42
[mov,mp4,m4a,3gp,3g2,mj2 @ 0xaaab06366a80] Unknown dref type 0x206c7275 size 12
[mov,mp4,m4a,3gp,3g2,mj2 @ 0xaaab06366a80] Before avformat_find_stream_info() pos: 3707569 bytes read:34730 seeks:1 nb_streams:1
[h264 @ 0xaaab06367e10] nal_unit_type: 7(SPS), nal_ref_idc: 1
[h264 @ 0xaaab06367e10] nal_unit_type: 8(PPS), nal_ref_idc: 1
[h264 @ 0xaaab06367e10] nal_unit_type: 9(AUD), nal_ref_idc: 0
[h264 @ 0xaaab06367e10] nal_unit_type: 5(IDR), nal_ref_idc: 1
[h264 @ 0xaaab06367e10] Format yuv420p chosen by get_format().
[h264 @ 0xaaab06367e10] Reinit context to 1920x1088, pix_fmt: yuv420p
[mov,mp4,m4a,3gp,3g2,mj2 @ 0xaaab06366a80] All info found
[mov,mp4,m4a,3gp,3g2,mj2 @ 0xaaab06366a80] After avformat_find_stream_info() pos: 127873 bytes read:162523 seeks:2 frames:1
Input #0, mov,mp4,m4a,3gp,3g2,mj2, from 'test.mp4':
  Metadata:
    major_brand     : mp42
    minor_version   : 0
    compatible_brands: mp41isom
    creation_time   : 2020-03-04T03:26:20.000000Z
  Duration: 00:00:10.07, start: 0.000000, bitrate: 2946 kb/s
  Stream #0:0(und), 1, 1/30000: Video: h264 (Main), 1 reference frame (avc1 / 0x31637661), yuv420p(left), 1920x1080 (1920x1088) [SAR 1:1 DAR 16:9], 2944 kb/s, 30 fps, 30 tbr, 30k tbn, 60 tbc (default)
    Metadata:
      creation_time   : 2020-08-16T15:46:19.000000Z
      handler_name    : VideoHandler
      vendor_id       : [0][0][0][0]
      encoder         : AVC Coding
Successfully opened the file.
Parsing a group of options: output url rtsp://localhost:8554/mystream.
Applying option c (codec name) with argument copy.
Applying option f (force format) with argument rtsp.
Successfully parsed a group of options.
Opening an output file: rtsp://localhost:8554/mystream.
Successfully opened the file.
[tcp @ 0xaaab0631b2f0] No default whitelist set
[tcp @ 0xaaab0631b2f0] Original list of addresses:
[tcp @ 0xaaab0631b2f0] Address 127.0.0.1 port 8554
[tcp @ 0xaaab0631b2f0] Interleaved list of addresses:
[tcp @ 0xaaab0631b2f0] Address 127.0.0.1 port 8554
[tcp @ 0xaaab0631b2f0] Starting connection attempt to 127.0.0.1 port 8554
[tcp @ 0xaaab0631b2f0] Connection attempt to 127.0.0.1 port 8554 failed: Connection refused
[tcp @ 0xaaab0631b2f0] Connection to tcp://localhost:8554?timeout=0 failed: Connection refused
Could not write header for output file #0 (incorrect codec parameters ?): Connection refused
Error initializing output stream 0:0 -- 
Stream mapping:
  Stream #0:0 -> #0:0 (copy)

[AVIOContext @ 0xaaab0631adb0] Statistics: 162523 bytes read, 2 seeks
